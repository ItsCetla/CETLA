# Project Overview

This project is a static website for the CETLA Racing League. It displays race schedules, results, and driver/team standings. The project is structured into two main parts: a legacy version and a modern `v2` single-page application (SPA).

-   **Legacy Version (root directory):** This is the original version of the site, composed of multiple HTML files (`index.html`, `race_results.html`, etc.), a single `style.css` file, and a `script.js` file that fetches data from various JSON files located in the `session3/` and `session4/` directories.

-   **v2 (in the `v2/` directory):** This is a newer, refactored version of the site built as a vanilla JavaScript SPA. It aims to consolidate all season data into a single `v2/data/seasons.json` file, providing a more modern and maintainable architecture. The `v2/` directory has its own `index.html`, `assets/app.js`, and `assets/styles.css`.

The primary goal of the `v2` project is to unify the data from the legacy version into a single, coherent data model, which simplifies updates and improves the overall user experience.

# Building and Running

## Legacy Version

The legacy version of the site can be run by opening any of the `.html` files in the root directory directly in a web browser.

## v2 Version

The `v2` version is also a static application and can be run by opening `v2/index.html` in a web browser.

### Data Migration

The `v2` application relies on a single data file: `v2/data/seasons.json`. This file is generated by a Node.js script that migrates and transforms the data from the legacy `session3/` and `session4/` directories.

To run the data migration script, execute the following command from the project root:

```bash
node v2/scripts/build-seasons.mjs
```

This will generate the `v2/data/seasons.json` file, which is required for the `v2` application to function correctly.

# Development Conventions

The `v2` codebase follows a set of modern development conventions:

-   **Data Model:** All data for the application is stored in a single `v2/data/seasons.json` file. The schema for this file is documented in `v2/README.md`.
-   **Single-Page Application (SPA):** The `v2` site is built as a vanilla JavaScript SPA. The main application logic is in `v2/assets/app.js`, which handles data fetching, state management, and rendering the different views.
-   **State Management:** The application uses a simple `state` object to manage the application's state, including the selected season and race.
-   **Component-Based UI:** The UI is built with a component-based approach, with functions for rendering different parts of the page (e.g., `renderDriverStandings`, `renderTeamStandings`, `renderRace`).
-   **CSS with Variables:** The `v2/assets/styles.css` file uses CSS custom properties (variables) for theming and to maintain a consistent design system.
-   **Mobile-First Design:** The `v2` application is designed with a mobile-first approach, ensuring a good user experience on all screen sizes.

For more detailed information about the `v2` architecture and data model, please refer to the `v2/README.md` file.
